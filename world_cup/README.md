# World Cup

Project name is world_cup

# .env

### Important env

```
DJANGO_SETTINGS_MODULE=
DEBUG=
SECRET_KEY=
ALLOWED_HOSTS=
PROJECT_NAME=
APPLICATION_CODE=
GUNICORN_PORT=
POSTGRES_DB=
POSTGRES_USER=
POSTGRES_PASSWORD=
POSTGRES_HOST=
POSTGRES_PORT=
ANON_THROTTLE_RATES=
USER_THROTTLE_RATES=
GUNICORN_WORKERS=
CELERY_CONCURRENCY=
WEB_PROTOCOL=
SITE_URL=
BROKER_URL=
CELERY_RESULT_BACKEND=
CELERY_ACCEPT_CONTENT=
CELERY_TASK_SERIALIZER=
CELERY_RESULT_SERIALIZER=
CELERY_CACHE_BACKEND=
CACHE_EXPIRATION_LEADERBOARD_TIME= # in second
CACHE_EXPIRATION_PLAYER_TIME= # in second
```

### Optional env

```
SYSTEM_USER_NAME
SYSTEM_USER_MOBILE_NUMBER
SYSTEM_USER_EMAIL
SYSTEM_USER_PASSWORD
ROOT_USER_NAME
ROOT_USER_MOBILE_NUMBER
ROOT_USER_EMAIL
ROOT_USER_PASSWORD
```

# Deploy

```
$ docker-compose up -d --build 
````

or

```
$ docker-compose down && docker-compose up -d 
```

# K6 Stress Test

> docker run --rm -i grafana/k6 run --vus 1 --duration 2s - < script.js
 
or

> k6 run -u=10 -d=1s --no-vu-connection-reuse  -e SCENARIOS=TestServer K6_stress/script.js